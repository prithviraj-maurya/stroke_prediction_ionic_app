(self.webpackChunkmodel_preds=self.webpackChunkmodel_preds||[]).push([[7733],{6957:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var r=s(639),o=s(1841),n=s(4762),i=s(1628);let a=(()=>{class e{constructor(e){this.storage=e,this.storage.create(),console.log("Your storage provider is working here !")}set(e,t){return(0,n.mG)(this,void 0,void 0,function*(){try{const s=yield this.storage.set(e,t);return console.log("set string in storage: "+s),!0}catch(s){return console.log(s),!1}})}get(e){return(0,n.mG)(this,void 0,void 0,function*(){try{const t=yield this.storage.get(e);return console.log(t),null!=t?t:null}catch(t){return console.log(t),null}})}setObject(e,t){return(0,n.mG)(this,void 0,void 0,function*(){try{const s=yield this.storage.set(e,JSON.stringify(t));return console.log("set Object in storage: "+s),!0}catch(s){return console.log(s),!1}})}getObject(e){return(0,n.mG)(this,void 0,void 0,function*(){try{const t=yield this.storage.get(e);return null!=t?JSON.parse(t):null}catch(t){return console.log(t),null}})}remove(e){this.storage.remove(e)}clear(){this.storage.clear()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(i.K))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),c=(()=>{class e{constructor(e,t){this.http=e,this.storageService=t,this.configUrl="https://stroke-model-prediction-flask.herokuapp.com/predict",this.predictedDisease={}}getDiseasePredictions(e,t){const s=JSON.parse(JSON.stringify(e));Object.keys(s).map(e=>{"hypertension"!==e&&"heart_disease"!==e||(s[e]="Yes"===s[e]?1:0)});const r=`${this.configUrl}/${t.toLowerCase()}`;return this.http.post(r,s)}saveDiseaseParams(e){Object.keys(e).map(t=>{this.storageService.set(t,e[t]).then(e=>{console.log("Data is saved",t)}).catch(e=>{console.log("error: "+e)})})}savePredictions(e,t,s){this.predictedDisease[t.label]={prediction:e.prediction,selectedDisease:t,params:s,risks:e.risks,recommendations:e.recommendations,feature_importances:e.feature_importances}}getDiseaseParams(e){return this.storageService.get(e)}clearStorage(){this.storageService.clear()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.eN),r.LFG(a))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5512:(e,t,s)=>{"use strict";s.d(t,{e:()=>p});var r=s(639),o=s(649),n=s(6957),i=s(7823),a=s(8583);function c(e,t){if(1&e&&(r.TgZ(0,"p"),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij("- ",e,"")}}function l(e,t){if(1&e&&(r.TgZ(0,"p"),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij("- ",e,"")}}const d=function(e){return{border:e}};let p=(()=>{class e{constructor(e,t){this.route=e,this.diseaseService=t}ngOnInit(){this.route.params.subscribe(e=>{this.predictedResponse=this.diseaseService.predictedDisease[e.selectedDisease];const t=this.predictedResponse.feature_importances;this.importantFeature=this.predictedResponse.params[t&&t.indexOf(Math.max(...t))].label||""})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.gz),r.Y36(n.C))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-predictions"]],decls:30,vars:8,consts:[["slot","start"],[3,"ngStyle"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r._UZ(3,"ion-back-button"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"ion-card",1),r.TgZ(5,"ion-card-header"),r.TgZ(6,"ion-card-title"),r._uU(7," Prediction "),r.qZA(),r.qZA(),r.TgZ(8,"ion-card-content"),r._uU(9," You have "),r.TgZ(10,"b"),r._uU(11),r.qZA(),r._uU(12," chance of having "),r.TgZ(13,"b"),r._uU(14),r.qZA(),r.qZA(),r.TgZ(15,"ion-card-content"),r._uU(16," The parameter which contributes highly is "),r.TgZ(17,"b"),r._uU(18),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"ion-card"),r.TgZ(20,"ion-card-content"),r.TgZ(21,"ion-label"),r.TgZ(22,"b"),r._uU(23,"Risks"),r.qZA(),r.qZA(),r.YNc(24,c,2,1,"p",2),r._UZ(25,"br"),r.TgZ(26,"ion-label"),r.TgZ(27,"b"),r._uU(28,"Recommendations"),r.qZA(),r.qZA(),r.YNc(29,l,2,1,"p",2),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.Q6J("ngStyle",r.VKq(6,d,t.predictedResponse.prediction>50?"2px solid red":"2px solid green")),r.xp6(7),r.hij("",t.predictedResponse.prediction,"%"),r.xp6(3),r.Oqu(t.predictedResponse.selectedDisease.label),r.xp6(4),r.Oqu(t.importantFeature),r.xp6(6),r.Q6J("ngForOf",t.predictedResponse.risks),r.xp6(5),r.Q6J("ngForOf",t.predictedResponse.recommendations))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.PM,a.PC,i.Zi,i.gZ,i.FN,i.Q$,a.sg],styles:[".text[_ngcontent-%COMP%]{white-space:pre-line}"]}),e})()},7733:(e,t,s)=>{"use strict";s.r(t),s.d(t,{TabsPageModule:()=>p});var r=s(7823),o=s(8583),n=s(665),i=s(649),a=s(5512),c=s(639);const l=[{path:"tabs",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-tabs"]],decls:11,vars:0,consts:[["slot","top"],["tab","parameters"],["tab","diseases"],["tab","symptoms"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-tabs"),c.TgZ(1,"ion-tab-bar",0),c.TgZ(2,"ion-tab-button",1),c.TgZ(3,"ion-label"),c._uU(4,"Parameters"),c.qZA(),c.qZA(),c.TgZ(5,"ion-tab-button",2),c.TgZ(6,"ion-label"),c._uU(7,"Diseases"),c.qZA(),c.qZA(),c.TgZ(8,"ion-tab-button",3),c.TgZ(9,"ion-label"),c._uU(10,"Symptoms"),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[r.UN,r.yq,r.ZU,r.Q$],styles:[""]}),e})(),children:[{path:"parameters",loadChildren:()=>Promise.all([s.e(8592),s.e(4002)]).then(s.bind(s,4002)).then(e=>e.ParametersModule)},{path:"diseases",loadChildren:()=>Promise.all([s.e(8592),s.e(6336)]).then(s.bind(s,6336)).then(e=>e.DiseasesModule)},{path:"symptoms",loadChildren:()=>s.e(1353).then(s.bind(s,1353)).then(e=>e.SymptomsModule)},{path:"predict",component:a.e},{path:"",redirectTo:"/tabs/diseases",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/diseases",pathMatch:"full"}];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.Bz.forChild(l)]]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Pc,o.ez,n.u5,d]]}),e})()}}]);