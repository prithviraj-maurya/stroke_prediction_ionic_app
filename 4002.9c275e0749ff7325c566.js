(self.webpackChunkmodel_preds=self.webpackChunkmodel_preds||[]).push([[4002],{4002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParametersModule:()=>Z});var o=r(7823),s=r(8583),i=r(665),n=r(649),a=r(4762),l=r(2035),c=r(639),m=r(6957);function u(e,t){if(1&e&&c._UZ(0,"ion-input",8),2&e){const e=c.oxw().$implicit;c.MGl("placeholder","Enter ",e.label,""),c.s9C("formControlName",e.field)}}function p(e,t){if(1&e&&(c.TgZ(0,"ion-select-option",11),c._uU(1),c.qZA()),2&e){const e=t.$implicit;c.s9C("value",e.value),c.xp6(1),c.hij(" ",e.label," ")}}function d(e,t){if(1&e&&(c.TgZ(0,"ion-select",9),c.YNc(1,p,2,2,"ion-select-option",10),c.qZA()),2&e){const e=c.oxw().$implicit;c.s9C("placeholder",e.label),c.s9C("formControlName",e.field),c.xp6(1),c.Q6J("ngForOf",e.options)}}function f(e,t){if(1&e&&(c.TgZ(0,"ion-item"),c.TgZ(1,"ion-label"),c._uU(2),c.qZA(),c.YNc(3,u,1,2,"ion-input",6),c.YNc(4,d,2,3,"ion-select",7),c.qZA()),2&e){const e=t.$implicit;c.xp6(2),c.Oqu(e.label),c.xp6(1),c.Q6J("ngIf","number"===e.type),c.xp6(1),c.Q6J("ngIf","dropdown"===e.type)}}function h(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-button",12),c.NdJ("click",function(){return c.CHM(e),c.oxw().clearAll()}),c._uU(1,"Clear All"),c.qZA()}}const g=[{path:"",component:(()=>{class e{constructor(e,t,r){this.diseaseService=e,this.toastController=t,this.alertController=r,this.params=[],this.paramsStored=!1,this.initializeParams()}initializeParams(){this.params=l.qh||[],this.getStoredParams(),this.createForm(this.params),console.log(this.params)}ionViewDidEnter(){this.initializeParams()}showAlert(e,t){return(0,a.mG)(this,void 0,void 0,function*(){const r=yield this.alertController.create({header:e||"",message:t,buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Confirm",handler:()=>{this.deleteParams()}}]});yield r.present()})}clearAll(){this.showAlert("","<strong>Are you sure you want to remove all parameters?<strong>")}createForm(e){let t={};e.forEach(e=>{t[e.field]=new i.NI(e.default||"",i.kI.required)}),this.parametersForm=new i.cw(t)}getStoredParams(){this.params.map(e=>{this.diseaseService.getDiseaseParams(e.field).then(t=>{e.default=t,this.paramsStored=t||!1}).then(()=>this.createForm(this.params))})}onSubmit(){return(0,a.mG)(this,void 0,void 0,function*(){Object.keys(this.parametersForm.controls).forEach(e=>{const t=this.parametersForm.get(e).value;t&&"string"==typeof t&&this.parametersForm.controls[e].setValue(t.trim())}),this.diseaseService.saveDiseaseParams(this.parametersForm.value);const e=yield this.toastController.create({duration:2e3,message:"Parameters updated successfully",position:"top",color:"success"});yield e.present()})}deleteParams(){return(0,a.mG)(this,void 0,void 0,function*(){this.parametersForm.reset(),this.params.map(e=>delete e.default),this.diseaseService.clearStorage();const e=yield this.toastController.create({duration:2e3,message:"Parameters removed successfully",position:"top",color:"success"});yield e.present()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(m.C),c.Y36(o.yF),c.Y36(o.Br))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-parameters"]],decls:10,vars:5,consts:[[3,"translucent"],[3,"fullscreen"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["type","submit","expand","full","fill","outline","slot","end"],["expand","full","fill","outline","slot","end","color","danger","fill","solid",3,"click",4,"ngIf"],["type","number","class","ion-text-right",3,"placeholder","formControlName",4,"ngIf"],["multiple","false",3,"placeholder","formControlName",4,"ngIf"],["type","number",1,"ion-text-right",3,"placeholder","formControlName"],["multiple","false",3,"placeholder","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["expand","full","fill","outline","slot","end","color","danger","fill","solid",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-title"),c._uU(3," Parameters "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content",1),c.TgZ(5,"form",2),c.NdJ("ngSubmit",function(){return t.onSubmit()}),c.YNc(6,f,5,3,"ion-item",3),c.TgZ(7,"ion-button",4),c._uU(8,"Update"),c.qZA(),c.YNc(9,h,2,0,"ion-button",5),c.qZA(),c.qZA()),2&e&&(c.Q6J("translucent",!0),c.xp6(4),c.Q6J("fullscreen",!0),c.xp6(1),c.Q6J("formGroup",t.parametersForm),c.xp6(1),c.Q6J("ngForOf",t.params),c.xp6(3),c.Q6J("ngIf",t.paramsStored))},directives:[o.Gu,o.sr,o.wd,o.W2,i._Y,i.JL,i.sg,s.sg,o.YG,s.O5,o.Ie,o.Q$,o.pK,o.as,i.JJ,i.u,o.t9,o.QI,o.n0],styles:[""]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.Bz.forChild(g)],n.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.Pc,s.ez,i.u5,i.UX,C]]}),e})()}}]);